<!doctype html>
<html lang="zh">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>秋风的小站</title>
    <meta name="description" content="秋风的个人小站 — 分享兴趣与笔记。" />
    <link rel="icon" href="./favicon.ico" />
    <!-- Open Graph / Twitter -->
    <meta property="og:title" content="秋风的小站" />
    <meta property="og:description" content="秋风的个人小站 — 分享兴趣与笔记。" />
    <meta property="og:image" content="./assets/images/avatar.png" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://norespond.github.io/my-repository/" />
    <meta name="twitter:card" content="summary_large_image" />
    <link rel="canonical" href="https://norespond.github.io/my-repository/" />

    <!-- Safe default config to avoid runtime errors when scripts/Alpine evaluate before
         the real config.json is fetched. This creates minimal shape only if window.config
         or window.config.content is not already defined. It will NOT overwrite a loaded config. -->
    <script>
        (function () {
            window.config = window.config || {};
            if (!window.config.content) {
                window.config.content = {
                    title: document.title || '秋风的小站',
                    theme: {
                        displayName: '默认',
                        theme: '',
                        colors: {
                            default: '',
                            autoSwitch: { dark: '', light: '' },
                            enable: [],
                            list: {},
                            index: []
                        }
                    },
                    masterInfo: {
                        name: '秋风',
                        website: '#',
                        avatar: './assets/images/avatar.png',
                        socialLink: { enable: [], icon: {}, link: {} }
                    },
                    pageHead: { typedContent: [] },
                    icp: { enable: [], info: { code: {}, link: {} } }
                };
            }
        })();
    </script>

    <link rel="stylesheet" href="./assets/styles/loaders.css" />
    <iframe id="global-loader-iframe" src="./loaders/global.html"></iframe>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- 推荐使用 CDN 方式加载 -->
    <!-- Localized vendor libraries (fallbacks) -->
    <script defer src="./assets/vendor/sweetalert.min.js"></script>
    <script defer src="./assets/vendor/typed.min.js"></script>
    <script defer src="./assets/vendor/markdown-it.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <link rel="stylesheet" href="./assets/styles/elements.css" />
    <link rel="stylesheet" href="./assets/styles/index.css" />
    <link rel="stylesheet" href="./assets/styles/responsive/index.css" />

    <script src="./assets/scripts/utils.js"></script>
    <script src="./assets/scripts/theme-loader.js"></script>
    <script src="./assets/scripts/index.js"></script>

    <script src="
        https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js
        "></script>
    <link href="
        https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css
        " rel="stylesheet">
    <link rel="stylesheet" href="./image/img.css">
    <script src="./image/img.js"></script>
    <script src="./assets/scripts/music.js"></script>
    <theme></theme>
</head>

<body x-data="">
    <div class="page-head">
        <span class="title"></span>
    </div>

    <div class="primary-container">
        <div class="left-area">
            <div class="cards">
                <div class="card-item" id="personal-info">
                    <!-- 使用标准 img，JS 在配置加载后设置 src -->
                    <img class="avatar" id="avatar-img" alt="秋风的头像" src="./assets/images/avatar.png" />
                    <span class="name" x-text="config.content.masterInfo.name">Loading...</span>
                    <div class="social-icons">Loading...</div>
                </div>
                <div class="card-item" id="recommend">
                    <span class="title"><i class="fa-solid fa-bullhorn"></i>公告</span>
                    <div class="content">
                        <div class="markdown-content" src="./assets/markdown/announcement.md"></div>
                    </div>
                </div>
                <div class="card-item" id="hitokoto">
                    <span class="title"><i class="fa-solid fa-scroll"></i>一言</span>
                    <div class="content">
                        <a id="hitokoto-text" href="" target="_blank">Loading...</a>
                    </div>
                </div>
                <!-- aplayer播放器 -->
                <div id="aplayer"></div>
                <div class="card-item" id="settings">
                    <span class="title"><i class="fa-solid fa-sliders"></i>浏览设置</span>
                    <div class="content">
                        <div class="settings-item theme-settings">
                            <span class="title"><i class="fa-solid fa-shirt"></i>配色方案 · <span
                                    x-text="config.content.theme.displayName"></span></span>
                            <div class="themes"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="right-area">
            <div class="content-page">
                <div class="markdown-content" src="./image/img.md"></div>
                <div id="image-gallery" class="waterfall-grid">
                    <!-- 图片将由 img.js 动态加载到这里 -->
                </div>
            </div>
        </div>
    </div>

    <script src="./live2d/dist/autoload.js"></script>

    <div class="footer">
        <span class="icp-info">Loading...</span>
        <span class="line-break"><i class="fa-solid fa-ellipsis"></i></span>
        <!-- 球球你别改这里可以嘛呜呜呜 (＞﹏＜) -->
        <!-- “[Loading...]”的实际内容可以在 config.json 的 masterInfo.info 项中修改哦~ -->
        <span>本站由 <span class="webmaster-info"><a :href="config.content.masterInfo.website" target="_blank"
                    x-text="config.content.masterInfo.name">[Loading...]</a> 和 </span><a href="https://hic.top"
                target="_blank">成成0v0</a> 用 <i class="fa-solid fa-heart"></i> 制作</span>

        <span>Powered by <a href="https://github.com/ChengCheng0v0/ACG-Home" target="_blank">ACG-Home</a></span>
    </div>
    <iframe id="theme-color-loader-iframe" src="./loaders/theme-color.html"></iframe>

    <script>
        // 隐藏滚动条
        document.body.style.overflow = "hidden";

        // 加载动画的最短显示时间
        const minimumLoadingTime = 1800;
        const startTime = new Date().getTime();

        // 页面加载完成后计算是否满足最短时间
        window.addEventListener("load", function () {
            const currentTime = new Date().getTime();
            const elapsedTime = currentTime - startTime;

            // 如果页面加载时间少于最短显示时间则延迟隐藏加载动画
            const delay = Math.max(0, minimumLoadingTime - elapsedTime);
            setTimeout(() => {
                // document.querySelector(".content").style.display = "block"; //显示网站内容
                document.getElementById("global-loader-iframe").className = "end"; // 播放结束动画
                document.body.style.overflow = "unset"; // 恢复显示滚动条
            }, delay);
        });
    </script>
</body>

</html>